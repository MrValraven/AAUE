(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Api"],{"18bf":function(e,t,r){},2532:function(e,t,r){"use strict";var n=r("23e7"),a=r("5a34"),o=r("1d80"),i=r("577e"),c=r("ab13");n({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~i(o(this)).indexOf(i(a(e)),arguments.length>1?arguments[1]:void 0)}})},"2a7d":function(e,t,r){"use strict";r("9911");var n=r("7a23"),a={class:"button"},o=["href"];function i(e,t,r,i,c,u){return Object(n["w"])(),Object(n["h"])("button",a,[Object(n["k"])(Object(n["G"])(r.buttonText)+" ",1),Object(n["D"])(e.$slots,"default",{},void 0,!0),r.link?(Object(n["w"])(),Object(n["h"])("a",{key:0,href:r.link,rel:"noreferrer nooppener",target:"_blank"},null,8,o)):Object(n["g"])("",!0)])}var c={name:"Button",props:{buttonText:String,link:String}},u=(r("c8d7"),r("6b0d")),s=r.n(u);const l=s()(c,[["render",i],["__scopeId","data-v-5bd2d029"]]);t["a"]=l},"2e58":function(e,t,r){"use strict";r("18bf")},"44e7":function(e,t,r){var n=r("861d"),a=r("c6b6"),o=r("b622"),i=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},"5a34":function(e,t,r){var n=r("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},6235:function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),a=r("ea9b"),o=r.n(a),i=function(e){return Object(n["z"])("data-v-737acea3"),e=e(),Object(n["x"])(),e},c={key:0,class:"login"},u=i((function(){return Object(n["i"])("img",{src:o.a,alt:""},null,-1)})),s=i((function(){return Object(n["i"])("label",{for:"Username"},"Username",-1)})),l={key:0},p=i((function(){return Object(n["i"])("label",{for:"password"},"Password",-1)})),b={key:1},d={key:1,class:"sidebarAPI"},f=i((function(){return Object(n["i"])("i",{class:"fas fa-pen"},null,-1)})),g=i((function(){return Object(n["i"])("span",null,"Criar notícia",-1)})),h=[f,g],O=i((function(){return Object(n["i"])("i",{class:"fas fa-edit"},null,-1)})),j=i((function(){return Object(n["i"])("span",null,"Editar notícia",-1)})),m=[O,j],v=i((function(){return Object(n["i"])("i",{class:"fas fa-trash-alt"},null,-1)})),w=i((function(){return Object(n["i"])("span",null,"Apagar notícia",-1)})),y=[v,w],k={key:2,class:"postBlog"},x={class:"getNoticia"},D={key:0,class:"forms"},N=i((function(){return Object(n["i"])("label",{for:"titulo"},"Título",-1)})),C=i((function(){return Object(n["i"])("label",{for:"category"},"Categoria principal",-1)})),F=Object(n["j"])('<option value="Comunicados" data-v-737acea3>Comunicados</option><option value="Desporto" data-v-737acea3>Desporto</option><option value="Discursos" data-v-737acea3>Discursos</option><option value="Ensino" data-v-737acea3>Ensino</option><option value="Geral" data-v-737acea3>Geral</option><option value="Politica" data-v-737acea3>Politica</option>',6),T=[F],P={for:"data"},E=i((function(){return Object(n["i"])("label",{for:"foto"},"Foto:",-1)})),A=i((function(){return Object(n["i"])("label",{for:"nomeDoficheiro"},"Nome do ficheiro",-1)})),M=i((function(){return Object(n["i"])("label",{for:"assinatura"},"Assinatura",-1)})),I={class:"formDeParagrafos"},R={class:"inputs"},B={for:"paragrafo"},S=["onUpdate:modelValue"],U={class:"buttonsParagraphs"},z={class:"sucesspost"},G={key:0,class:"postCreated"},J=i((function(){return Object(n["i"])("h1",null,"Notícia criada com sucesso!",-1)})),V=i((function(){return Object(n["i"])("i",{class:"far fa-check-circle"},null,-1)}));function H(e,t,r,a,o,i){var f=Object(n["E"])("Button"),g=Object(n["E"])("Dropzone");return Object(n["w"])(),Object(n["h"])(n["a"],null,[o.loggedIn?Object(n["g"])("",!0):(Object(n["w"])(),Object(n["h"])("section",c,[Object(n["i"])("form",{onSubmit:t[2]||(t[2]=Object(n["N"])((function(){}),["prevent"]))},[u,s,Object(n["M"])(Object(n["i"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.username=e}),name:"Username",placeholder:"Username",required:""},null,512),[[n["J"],a.username]]),o.wrongUserError?(Object(n["w"])(),Object(n["h"])("span",l,"O usuário não existe")):Object(n["g"])("",!0),p,Object(n["M"])(Object(n["i"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),name:"password",placeholder:"Password",required:""},null,512),[[n["J"],a.password]]),o.wrongPasswordError?(Object(n["w"])(),Object(n["h"])("span",b,"A password está errada")):Object(n["g"])("",!0),Object(n["i"])("div",{class:Object(n["r"])(["buttons",{isActive:a.isLoginFormFilled}])},[Object(n["l"])(f,{class:"button",buttonText:"Iniciar sessão",onClick:i.logIn},null,8,["onClick"])],2)],32)])),o.loggedIn&&!o.formSent?(Object(n["w"])(),Object(n["h"])("div",d,[Object(n["i"])("ul",null,[Object(n["i"])("li",{onClick:t[3]||(t[3]=function(){return i.createNews&&i.createNews.apply(i,arguments)})},h),Object(n["i"])("li",{onClick:t[4]||(t[4]=function(){return i.editNews&&i.editNews.apply(i,arguments)})},m),Object(n["i"])("li",{onClick:t[5]||(t[5]=function(){return i.deleteNews&&i.deleteNews.apply(i,arguments)})},y)])])):Object(n["g"])("",!0),o.loggedIn&&!o.formSent?(Object(n["w"])(),Object(n["h"])("section",k,[Object(n["i"])("h1",null,Object(n["G"])(o.headerText),1),Object(n["i"])("div",x,["Editar notícia"==o.headerText||"Eliminar notícia"==o.headerText?Object(n["M"])((Object(n["w"])(),Object(n["h"])("select",{key:0,name:"selectnoticia",id:"selectnoticia","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.selectedNoticia=e})},[(Object(n["w"])(!0),Object(n["h"])(n["a"],null,Object(n["C"])(o.titulos,(function(e){return Object(n["w"])(),Object(n["h"])("option",{key:e.id},Object(n["G"])(e.title),1)})),128))],512)),[[n["I"],o.selectedNoticia]]):Object(n["g"])("",!0)]),"Criar nova notícia"==o.headerText?(Object(n["w"])(),Object(n["h"])("div",D,[Object(n["i"])("form",{onSubmit:t[11]||(t[11]=Object(n["N"])((function(){}),["prevent"]))},[N,Object(n["M"])(Object(n["i"])("input",{type:"text",id:"titulo","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.titulo=e}),placeholder:"Episódio V: O Império Contra-Ataca",required:""},null,512),[[n["J"],a.titulo]]),C,Object(n["M"])(Object(n["i"])("select",{name:"category",id:"category","onUpdate:modelValue":t[8]||(t[8]=function(e){return a.category=e}),required:""},T,512),[[n["I"],a.category]]),Object(n["i"])("label",P,"Data: "+Object(n["G"])(a.diaDeHoje)+" de "+Object(n["G"])(o.mesDeHoje)+", "+Object(n["G"])(a.anoDeHoje),1),E,Object(n["l"])(g,{onDrop:Object(n["N"])(a.drop,["prevent"]),onChange:a.selectedFile},null,8,["onDrop","onChange"]),Object(n["i"])("span",null,"Ficheiro: "+Object(n["G"])(a.dropzoneFile.name),1),A,Object(n["M"])(Object(n["i"])("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=function(e){return o.nomeDoFicheiro=e}),placeholder:"40anos.jpg"},null,512),[[n["J"],o.nomeDoFicheiro]]),M,Object(n["M"])(Object(n["i"])("input",{type:"text",id:"assinatura","onUpdate:modelValue":t[10]||(t[10]=function(e){return o.assinatura=e}),placeholder:"Mestre Yoda"},null,512),[[n["J"],o.assinatura]]),Object(n["i"])("div",{class:Object(n["r"])(["buttons",{isActive:a.isFormFilled}])},[Object(n["l"])(f,{buttonText:"Publicar",onClick:i.publishNews},null,8,["onClick"])],2)],32),Object(n["i"])("form",I,[(Object(n["w"])(!0),Object(n["h"])(n["a"],null,Object(n["C"])(o.numberOfParagraphs,(function(e){return Object(n["w"])(),Object(n["h"])("div",{class:"paragraph",key:e},[Object(n["i"])("div",R,[Object(n["i"])("label",B,Object(n["G"])(e)+"º Parágrafo",1),Object(n["M"])(Object(n["i"])("textarea",{type:"text",id:"paragrafo","onUpdate:modelValue":function(t){return o.paragrafo[e-1]=t},placeholder:"Há muito tempo, em uma galáxia muito, muito distante...",required:""},null,8,S),[[n["J"],o.paragrafo[e-1]]])])])})),128)),Object(n["i"])("div",U,[Object(n["i"])("i",{class:"fas fa-plus",onClick:t[12]||(t[12]=function(){return i.incrementNumberOfParagraphs&&i.incrementNumberOfParagraphs.apply(i,arguments)})}),Object(n["i"])("i",{class:"fas fa-times",onClick:t[13]||(t[13]=function(){return i.decrementNumberOfParagraphs&&i.decrementNumberOfParagraphs.apply(i,arguments)})})])])])):Object(n["g"])("",!0)])):Object(n["g"])("",!0),Object(n["i"])("section",z,[o.formSent?(Object(n["w"])(),Object(n["h"])("div",G,[J,V,Object(n["l"])(f,{class:"button",buttonText:"Voltar",onClick:t[14]||(t[14]=function(e){return o.formSent=!1})})])):Object(n["g"])("",!0)])],64)}var _=r("1da1"),q=(r("d3b7"),r("caad"),r("2532"),r("99af"),r("96cf"),r("2a7d")),L=function(e){return Object(n["z"])("data-v-22ed2fa1"),e=e(),Object(n["x"])(),e},Y=L((function(){return Object(n["i"])("span",null,"Arraste um ficheiro",-1)})),K=L((function(){return Object(n["i"])("span",null,"OU",-1)})),$=L((function(){return Object(n["i"])("label",{for:"dropzoneFile"},"Selecionar ficheiro",-1)})),Q=L((function(){return Object(n["i"])("input",{type:"file",id:"dropzoneFile",class:"dropzoneFile"},null,-1)})),W=[Y,K,$,Q];function X(e,t,r,a,o,i){return Object(n["w"])(),Object(n["h"])("div",{class:Object(n["r"])(["dropzone",{activeDropzone:a.active}]),onDragenter:t[0]||(t[0]=Object(n["N"])((function(){return a.toggleActive&&a.toggleActive.apply(a,arguments)}),["prevent"])),onDragleave:t[1]||(t[1]=function(){return a.toggleActive&&a.toggleActive.apply(a,arguments)}),onDragover:t[2]||(t[2]=Object(n["N"])((function(){}),["prevent"])),onDrop:t[3]||(t[3]=function(){return a.toggleActive&&a.toggleActive.apply(a,arguments)})},W,34)}var Z={name:"Dropzone",setup:function(){var e=Object(n["B"])(!1),t=function(){e.value=!e.value};return{active:e,toggleActive:t}}},ee=(r("2e58"),r("6b0d")),te=r.n(ee);const re=te()(Z,[["render",X],["__scopeId","data-v-22ed2fa1"]]);var ne=re,ae={name:"Api",data:function(){return{loggedIn:!1,isLoginFormFilled:!1,username:"",password:"",wrongUserError:"",wrongPasswordError:"",headerText:"Criar nova notícia",selectedNoticia:"",currentNoticia:{title:"",id:""},titulos:[],titulo:"",category:"",paragrafo:[],isFormFilled:!1,nomeDoFicheiro:"",assinatura:"",mesDeHoje:"",numberOfParagraphs:1,authToken:"",errorMessage:"",formSent:!1,noticiaId:""}},setup:function(){var e=Object(n["B"])(""),t=function(t){e.value=t.dataTransfer.files[0]},r=function(){e.value=document.querySelector(".dropzoneFile").files[0]},a=(new Date).getDate(),o=(new Date).getFullYear(),i=function(){var e=(new Date).getMonth()+1;switch(e){case 1:return"Janeiro";case 2:return"Fevereiro";case 3:return"Março";case 4:return"Abril";case 5:return"Maio";case 6:return"Junho";case 7:return"Julho";case 8:return"Agosto";case 9:return"Setembro";case 10:return"Outubro";case 11:return"Novembro";case 12:return"Dezembro";default:break}},c=Object(n["B"])(""),u=Object(n["B"])(""),s=Object(n["B"])([]),l=Object(n["B"])(!1);Object(n["K"])([c,u,s],(function(){c.value&&u.value&&s.value?l.value=!0:l.value=!1}));var p=Object(n["B"])(""),b=Object(n["B"])(""),d=Object(n["B"])(!1);return Object(n["K"])([p,b],(function(){p.value&&b.value?d.value=!0:d.value=!1})),{dropzoneFile:e,drop:t,selectedFile:r,diaDeHoje:a,getMes:i,anoDeHoje:o,isFormFilled:l,titulo:c,category:u,isLoginFormFilled:d,username:p,password:b}},watch:{selectedNoticia:function(e,t){var r=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in r.titulos)r.titulos[a].title==e&&(n=r.titulos[a].id);return t.next=3,r.getNoticiaInfo(n);case 3:case"end":return t.stop()}}),t)})))()}},components:{Button:q["a"],Dropzone:ne},created:function(){this.mesDeHoje=this.getMes()},methods:{logIn:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoginFormFilled){t.next=2;break}return t.abrupt("return");case 2:e.wrongUserError=!1,e.wrongPasswordError=!1,r={username:e.username,password:e.password},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},fetch("https://blogposting-api.herokuapp.com/api/user/login",n).then(function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.json();case 2:if(n=t.sent,r.ok){t.next=6;break}return a=n&&n.message||r.status,t.abrupt("return",Promise.reject(a));case 6:e.authToken=n.token,e.loggedIn=!0;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.errorMessage=t,e.errorMessage.includes("password")&&(e.wrongPasswordError=!0),e.errorMessage.includes("User")&&(e.wrongUserError=!0),console.error("There was an error!",t)}));case 7:case"end":return t.stop()}}),t)})))()},getCategoryColor:function(e){switch(e){case"Comunicados":return"#BAC0CB";case"Desporto":return"#BA292C";case"Discursos":return"#549EFF";case"Ensino":return"#00BD9D";case"Geral":return"#F8D01C";case"Politica":return"#FF7733";default:return"000000"}},publishNews:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isFormFilled){t.next=2;break}return t.abrupt("return");case 2:if(r=new Date,n={title:e.titulo,category:e.category,categoryColor:e.getCategoryColor(e.category),date:"".concat(r.getDate()," de ").concat(e.getMes(r.getMonth+1),", ").concat(r.getFullYear),paragraphs:e.paragrafo,imageLink:e.nomeDoFicheiro,signature:e.assinatura,token:e.authToken},!e.authToken){t.next=8;break}return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},t.next=8,fetch("https://blogposting-api.herokuapp.com/api/admin/createBlogpost",a).then((function(t){t.ok&&(e.formSent=!0,e.clearInfo())})).catch((function(t){e.errorMessage=t.message,console.log(t)}));case 8:case"end":return t.stop()}}),t)})))()},incrementNumberOfParagraphs:function(){this.numberOfParagraphs++},decrementNumberOfParagraphs:function(){this.numberOfParagraphs<=1?this.numberOfParagraphs=1:(this.numberOfParagraphs--,this.paragrafo.pop())},createNews:function(){this.headerText="Criar nova notícia",this.currentNoticia="",this.clearInfo()},editNews:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.headerText="Editar notícia",e.currentNoticia="",t.next=4,e.getTitulosDasNoticias();case 4:case"end":return t.stop()}}),t)})))()},deleteNews:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.headerText="Eliminar notícia",e.currentNoticia="",t.next=4,e.getTitulosDasNoticias();case 4:case"end":return t.stop()}}),t)})))()},getTitulosDasNoticias:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={method:"GET",headers:{"Content-Type":"application/json"}},t.next=3,fetch("https://blogposting-api.herokuapp.com/api/getAllBlogpostTitles",r).then(function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.json();case 2:if(e.titulos=t.sent,r.ok){t.next=6;break}return n=data&&data.message||r.status,t.abrupt("return",Promise.reject(n));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},getNoticiaInfo:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"}},a="https://blogposting-api.herokuapp.com/api/getBlogpost/".concat(e),r.next=4,fetch(a,n).then(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.json();case 2:if(n=e.sent,r.ok){e.next=6;break}return a=n&&n.message||r.status,e.abrupt("return",Promise.reject(a));case 6:t.titulo=n.title,t.category=n.category,t.category=n.categoryColor,t.dataDePublicacao=n.date,t.paragrafo=n.paragraphs,t.numberOfParagraphs=n.paragraphs.length,t.assinatura=n.signature;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return r.stop()}}),r)})))()},clearInfo:function(){this.titulo="",this.category="",this.category="",this.dataDePublicacao="",this.paragrafo=[],this.assinatura="",this.numberOfParagraphs=1}}};r("916a");const oe=te()(ae,[["render",H],["__scopeId","data-v-737acea3"]]);t["default"]=oe},"916a":function(e,t,r){"use strict";r("f123")},"99af":function(e,t,r){"use strict";var n=r("23e7"),a=r("d039"),o=r("e8b5"),i=r("861d"),c=r("7b0b"),u=r("50c4"),s=r("8418"),l=r("65f0"),p=r("1dde"),b=r("b622"),d=r("2d00"),f=b("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",O=d>=51||!a((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),j=p("concat"),m=function(e){if(!i(e))return!1;var t=e[f];return void 0!==t?!!t:o(e)},v=!O||!j;n({target:"Array",proto:!0,forced:v},{concat:function(e){var t,r,n,a,o,i=c(this),p=l(i,0),b=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?i:arguments[t],m(o)){if(a=u(o.length),b+a>g)throw TypeError(h);for(r=0;r<a;r++,b++)r in o&&s(p,b,o[r])}else{if(b>=g)throw TypeError(h);s(p,b++,o)}return p.length=b,p}})},ab13:function(e,t,r){var n=r("b622"),a=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,"/./"[e](t)}catch(n){}}return!1}},c8d7:function(e,t,r){"use strict";r("dc0c")},caad:function(e,t,r){"use strict";var n=r("23e7"),a=r("4d64").includes,o=r("44d2");n({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},dc0c:function(e,t,r){},f123:function(e,t,r){}}]);
//# sourceMappingURL=Api.5ffee639.js.map